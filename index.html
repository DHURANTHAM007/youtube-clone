<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YouTube Clone</title>
    
    <!-- Google Font: Roboto (The official YouTube font) -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    />
    
    <!-- React and Babel for in-browser JSX compilation -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Material-UI (MUI) Library -->
    <script src="https://unpkg.com/@mui/material@5/umd/material-ui.development.js"></script>

    <style>
      /* --- Global Styles for YouTube's Look and Feel --- */
      * { box-sizing: border-box; margin: 0; padding: 0; }
      body {
        font-family: 'Roboto', sans-serif;
        background-color: #0F0F0F; /* YouTube's dark background */
        color: #F1F1F1;
      }
      /* Custom Scrollbar */
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: #0F0F0F; }
      ::-webkit-scrollbar-thumb { background: #555; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #777; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
      // Destructure all the components we need from the global MaterialUI object
      const { 
        AppBar, Box, Grid, Stack, Typography, Card, CardContent, CardMedia,
        Chip, Container, TextField, Button, IconButton, List, ListItem, ListItemIcon, ListItemText,
        createTheme, ThemeProvider, CircularProgress,
        Menu, Search, VideoCall, Notifications, Home, Explore, Subscriptions, VideoLibrary
      } = MaterialUI;

      // --- 1. DUMMY DATA with CATEGORIES ---
      const allVideos = [
          { id: 1, embedId: 'SqcY0GlETPk', title: 'Build a Responsive Portfolio with React & MUI', channel: 'JavaScript Mastery', views: '1.1M', timestamp: '1 year ago', thumbnail: 'https://i.ytimg.com/vi/SqcY0GlETPk/hqdefault.jpg', category: 'Coding' },
          { id: 2, embedId: 'bMknfKXIFA8', title: 'React Full Course for Beginners (2022)', channel: 'freeCodeCamp.org', views: '5.2M', timestamp: '2 years ago', thumbnail: 'https://i.ytimg.com/vi/bMknfKXIFA8/hqdefault.jpg', category: 'Coding' },
          { id: 3, embedId: 'uXesN0cPQ_I', title: 'Top 5 New Games of the Year', channel: 'IGN', views: '3.4M', timestamp: '3 months ago', thumbnail: 'https://i.ytimg.com/vi/uXesN0cPQ_I/hqdefault.jpg', category: 'Gaming' },
          { id: 4, embedId: 'Rz-sO-gZIro', title: 'lofi hip hop radio - beats to relax/study to', channel: 'Lofi Girl', views: '1.3B', timestamp: 'Live', thumbnail: 'https://i.ytimg.com/vi/Rz-sO-gZIro/hqdefault.jpg', category: 'Music' },
          { id: 5, embedId: '6l8y_n84_vU', title: 'Building a SaaS with Stripe & Next.js', channel: 'Fireship', views: '700K', timestamp: '8 months ago', thumbnail: 'https://i.ytimg.com/vi/6l8y_n84_vU/hqdefault.jpg', category: 'Coding' },
          { id: 6, embedId: 'n3z3h1rz6h0', title: 'VALORANT - Official Gameplay Trailer', channel: 'VALORANT', views: '35M', timestamp: '2 years ago', thumbnail: 'https://i.ytimg.com/vi/n3z3h1rz6h0/hqdefault.jpg', category: 'Gaming' },
          { id: 7, embedId: 'dQw4w9WgXcQ', title: 'Never Gonna Give You Up - Official Video', channel: 'Rick Astley', views: '1.2B', timestamp: '12 years ago', thumbnail: 'https://i.ytimg.com/vi/dQw4w9WgXcQ/hqdefault.jpg', category: 'Music' },
      ];
      const categories = ['All', 'Coding', 'Gaming', 'Music', 'Movies', 'Sports'];
      
      // --- 2. REUSABLE COMPONENTS with YOUTUBE STYLING ---

      const VideoCard = ({ video, onVideoSelect }) => (
        <Card 
          onClick={() => onVideoSelect(video)}
          sx={{ 
            width: '100%', 
            background: 'none', 
            boxShadow: 'none', 
            cursor: 'pointer',
            color: '#F1F1F1'
          }}
        >
          <CardMedia
            image={video.thumbnail}
            alt={video.title}
            sx={{ width: '100%', height: 180, borderRadius: '12px' }}
          />
          <CardContent sx={{ px: 0, pt: 1.5 }}>
            <Typography variant="subtitle1" fontWeight="500" lineHeight={1.4}>
              {video.title}
            </Typography>
            <Typography variant="body2" color="#AAAAAA" mt={0.5}>
              {video.channel}
            </Typography>
            <Typography variant="body2" color="#AAAAAA">
              {`${video.views} views â€¢ ${video.timestamp}`}
            </Typography>
          </CardContent>
        </Card>
      );
      
      const CategoryChips = ({ selectedCategory, onCategorySelect }) => (
          <Box sx={{ py: 1, borderTop: '1px solid #303030', borderBottom: '1px solid #303030', background: '#0F0F0F', position: 'sticky', top: 64, zIndex: 10 }}>
              <Stack direction="row" spacing={1} justifyContent="center" sx={{ overflowX: 'auto', p:1 }}>
                  {categories.map(category => (
                      <Chip 
                          key={category}
                          label={category} 
                          onClick={() => onCategorySelect(category)}
                          sx={{ 
                              color: 'white',
                              cursor: 'pointer',
                              backgroundColor: selectedCategory === category ? '#FFFFFF' : '#373737',
                              color: selectedCategory === category ? '#0F0F0F' : '#FFFFFF',
                              '&:hover': {
                                  backgroundColor: selectedCategory === category ? '#FFFFFF' : '#4d4d4d'
                              }
                          }}
                      />
                  ))}
              </Stack>
          </Box>
      );

      const Sidebar = () => {
          const sidebarLinks = [
              { text: 'Home', icon: <Home /> },
              { text: 'Explore', icon: <Explore /> },
              { text: 'Subscriptions', icon: <Subscriptions /> },
              { text: 'Library', icon: <VideoLibrary /> }
          ];
          return (
              <Box sx={{
                  width: 240,
                  height: 'calc(100vh - 64px)',
                  position: 'sticky',
                  top: 64,
                  borderRight: '1px solid #303030',
                  display: { xs: 'none', md: 'block' },
                  color: 'white',
                  py: 1
              }}>
                  <List>
                      {sidebarLinks.map(({ text, icon }) => (
                          <ListItem button key={text}>
                              <ListItemIcon sx={{ color: 'white' }}>{icon}</ListItemIcon>
                              <ListItemText primary={text} />
                          </ListItem>
                      ))}
                  </List>
              </Box>
          );
      };

      const Navbar = ({ searchTerm, onSearchChange }) => (
          <AppBar position="sticky" sx={{ background: '#0F0F0F', height: 64, boxShadow: 'none' }}>
              <Stack direction="row" alignItems="center" justifyContent="space-between" sx={{ height: '100%', px: 2 }}>
                  {/* Left Section */}
                  <Stack direction="row" alignItems="center" spacing={1}>
                      <IconButton edge="start" sx={{ color: 'white' }}><Menu /></IconButton>
                      <Typography variant="h6" component="div" sx={{ fontWeight: 'bold' }}>
                          <span style={{ color: '#FF0000' }}>You</span>Tube
                      </Typography>
                  </Stack>
                  {/* Center Section */}
                  <Box sx={{ width: '40%', display: 'flex' }}>
                      <TextField
                          fullWidth
                          variant="outlined"
                          placeholder="Search"
                          value={searchTerm}
                          onChange={onSearchChange}
                          size="small"
                          sx={{ 
                              '& .MuiOutlinedInput-root': {
                                  borderRadius: '20px 0 0 20px',
                                  backgroundColor: '#121212',
                                  '& fieldset': { borderColor: '#303030' },
                              },
                              input: { color: 'white' }
                          }}
                      />
                      <Button variant="contained" sx={{ 
                          borderRadius: '0 20px 20px 0', 
                          background: '#303030',
                          boxShadow: 'none',
                          minWidth: '64px',
                          '&:hover': { background: '#4d4d4d' }
                      }}>
                          <Search />
                      </Button>
                  </Box>
                  {/* Right Section */}
                  <Stack direction="row" spacing={1}>
                      <IconButton sx={{ color: 'white' }}><VideoCall /></IconButton>
                      <IconButton sx={{ color: 'white' }}><Notifications /></IconButton>
                  </Stack>
              </Stack>
          </AppBar>
      );
      
      // --- 3. THE MAIN APP COMPONENT ---
      
      const App = () => {
        const [loading, setLoading] = React.useState(true);
        const [videos, setVideos] = React.useState([]);
        const [searchTerm, setSearchTerm] = React.useState('');
        const [selectedCategory, setSelectedCategory] = React.useState('All');
        
        React.useEffect(() => {
          setTimeout(() => { setLoading(false); }, 1000);
        }, []);

        const filteredVideos = React.useMemo(() => {
            return allVideos
              .filter(video => selectedCategory === 'All' || video.category === selectedCategory)
              .filter(video => video.title.toLowerCase().includes(searchTerm.toLowerCase()));
        }, [searchTerm, selectedCategory]);
        
        const theme = createTheme({
            palette: {
                mode: 'dark',
                primary: { main: '#FF0000' }, 
                background: { default: '#0F0F0F' }
            },
            typography: { fontFamily: 'Roboto, sans-serif' }
        });

        if (loading) {
            return (
                <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh' }}>
                    <CircularProgress color="primary" />
                </Box>
            );
        }

        return (
          <ThemeProvider theme={theme}>
            <Box sx={{ minHeight: '100vh' }}>
              <Navbar searchTerm={searchTerm} onSearchChange={(e) => setSearchTerm(e.target.value)} />
              <Stack direction="row">
                <Sidebar />
                <Box flex={1} sx={{ overflowY: 'auto', height: 'calc(100vh - 64px)' }}>
                    <CategoryChips selectedCategory={selectedCategory} onCategorySelect={setSelectedCategory} />
                    <Box p={3}>
                        <Grid container spacing={3}>
                            {filteredVideos.map((video) => (
                              <Grid item xs={12} sm={6} md={4} lg={3} key={video.id}>
                                <VideoCard video={video} onVideoSelect={() => {}} />
                              </Grid>
                            ))}
                        </Grid>
                    </Box>
                </Box>
              </Stack>
            </Box>
          </ThemeProvider>
        );
      };

      // --- 4. RENDER THE APP TO THE DOM ---
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);

    </script>
</body>
</html>
