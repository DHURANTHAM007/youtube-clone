<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YouTube Clone - React & MUI</title>
    
    <!-- Google Font (Roboto is required for Material-UI) -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    />
    
    <!-- React and Babel (to compile JSX in the browser) -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Material-UI (MUI) Library -->
    <script src="https://unpkg.com/@mui/material@5/umd/material-ui.development.js"></script>

    <style>
      /* Basic Global Styles */
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      body {
        font-family: 'Roboto', sans-serif;
        background-color: #0F0F0F; /* YouTube's dark background color */
      }
      a {
        text-decoration: none;
        color: inherit;
      }
      /* Custom scrollbar for a more native feel */
      ::-webkit-scrollbar { width: 8px; }
      ::-webkit-scrollbar-track { background: #0F0F0F; }
      ::-webkit-scrollbar-thumb { background: #555; border-radius: 4px; }
      ::-webkit-scrollbar-thumb:hover { background: #777; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
      // Destructure all the components we need from the global MaterialUI object
      const { 
        AppBar, Box, Grid, Stack, Typography, Card, CardContent, 
        CardMedia, List, ListItem, ListItemText, createTheme, ThemeProvider 
      } = MaterialUI;

      // --- 1. DUMMY DATA ---
      // In a real app, this would come from an API
      const allVideos = [
          { id: 1, embedId: 'mNuh_j13g3c', title: 'React JS Crash Course for Beginners', channel: 'Traversy Media', views: '2.5M views', timestamp: '1 year ago', thumbnail: 'https://i.ytimg.com/vi/mNuh_j13g3c/hqdefault.jpg' },
          { id: 2, embedId: 'bMknfKXIFA8', title: 'Full React Course 2022', channel: 'freeCodeCamp.org', views: '5.1M views', timestamp: '2 years ago', thumbnail: 'https://i.ytimg.com/vi/bMknfKXIFA8/hqdefault.jpg' },
          { id: 3, embedId: 'w7ejDZ8o_s8', title: 'Material UI V5 Crash Course', channel: 'The Net Ninja', views: '1M views', timestamp: '1 year ago', thumbnail: 'https://i.ytimg.com/vi/w7ejDZ8o_s8/hqdefault.jpg' },
          { id: 4, embedId: 'Ke90Tje7VS0', title: 'The Story of Next.js', channel: 'Vercel', views: '800K views', timestamp: '10 months ago', thumbnail: 'https://i.ytimg.com/vi/Ke90Tje7VS0/hqdefault.jpg' },
          { id: 5, embedId: 'SqcY0GlETPk', title: 'Build a Personal Portfolio with React', channel: 'JavaScript Mastery', views: '950K views', timestamp: '11 months ago', thumbnail: 'https://i.ytimg.com/vi/SqcY0GlETPk/hqdefault.jpg' },
          { id: 6, embedId: 'f557G7_w0wI', title: 'Node.js and Express.js - Full Course', channel: 'freeCodeCamp.org', views: '4.2M views', timestamp: '2 years ago', thumbnail: 'https://i.ytimg.com/vi/f557G7_w0wI/hqdefault.jpg' },
          { id: 7, embedId: '0-S5a0eXPoc', title: 'HTML & CSS Full Course for Beginners', channel: 'SuperSimpleDev', views: '1.8M views', timestamp: '6 months ago', thumbnail: 'https://i.ytimg.com/vi/0-S5a0eXPoc/hqdefault.jpg' },
          { id: 8, embedId: 'G3e-cpL7ofc', title: 'Git and GitHub for Beginners - Crash Course', channel: 'Kevin Stratvert', views: '3M views', timestamp: '3 years ago', thumbnail: 'https://i.ytimg.com/vi/G3e-cpL7ofc/hqdefault.jpg' },
      ];

      // --- 2. REUSABLE COMPONENTS ---

      const VideoCard = ({ video, onVideoSelect }) => (
        <Card 
          onClick={() => onVideoSelect(video)}
          sx={{ 
            width: '100%', 
            boxShadow: 'none', 
            borderRadius: '8px', 
            backgroundColor: '#0F0F0F', 
            cursor: 'pointer',
            color: 'white'
          }}
        >
          <CardMedia
            image={video.thumbnail}
            alt={video.title}
            sx={{ width: '100%', height: 180, borderRadius: '8px' }}
          />
          <CardContent sx={{ p: '12px 0 0 0' }}>
            <Typography variant="subtitle1" fontWeight="bold">
              {video.title}
            </Typography>
            <Typography variant="body2" color="gray">
              {video.channel}
            </Typography>
            <Typography variant="body2" color="gray">
              {`${video.views} â€¢ ${video.timestamp}`}
            </Typography>
          </CardContent>
        </Card>
      );
      
      const Sidebar = ({ onHomeClick }) => {
        const categories = ['Home', 'Shorts', 'Subscriptions', 'History', 'Your Videos'];
        return (
          <Box
            sx={{
              height: '92vh',
              borderRight: '1px solid #303030',
              px: 2,
              color: 'white',
              position: 'sticky',
              top: '64px',
              display: { xs: 'none', md: 'block' }
            }}
          >
            <List>
              {categories.map((text) => (
                <ListItem button key={text} onClick={onHomeClick}>
                  <ListItemText primary={text} />
                </ListItem>
              ))}
            </List>
          </Box>
        );
      }

      // --- 3. PAGE COMPONENTS ---

      const Feed = ({ videos, onVideoSelect }) => (
        <Box p={{ xs: 2, md: 3 }} sx={{ flexGrow: 1 }}>
          <Grid container spacing={3}>
            {videos.map((video) => (
              <Grid item xs={12} sm={6} md={4} lg={3} key={video.id}>
                <VideoCard video={video} onVideoSelect={onVideoSelect} />
              </Grid>
            ))}
          </Grid>
        </Box>
      );
      
      const VideoDetail = ({ video, suggestedVideos, onVideoSelect }) => (
        <Box minHeight="95vh" p={{ xs: 1, sm: 2 }} sx={{ flexGrow: 1 }}>
            <Stack direction={{ xs: 'column', md: 'row' }} spacing={3}>
                <Box flex={1}>
                    <Box sx={{ width: '100%', position: 'sticky', top: '80px' }}>
                        <Box sx={{ position: 'relative', paddingTop: '56.25%' /* 16:9 Aspect Ratio */ }}>
                            <iframe
                                src={`https://www.youtube.com/embed/${video.embedId}?autoplay=1`}
                                frameBorder="0"
                                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                allowFullScreen
                                title={video.title}
                                style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%' }}
                            />
                        </Box>
                        <Typography color="white" variant="h5" fontWeight="bold" mt={2}>
                            {video.title}
                        </Typography>
                        <Typography color="gray" variant="body1" mt={1}>
                            {video.channel}
                        </Typography>
                    </Box>
                </Box>
                <Box width={{ xs: '100%', md: '350px' }} mt={{ xs: 3, md: 0 }}>
                    <Typography variant="h6" fontWeight="bold" color="white" mb={2}>
                        Suggested
                    </Typography>
                    <Stack direction="column" spacing={2}>
                        {suggestedVideos.map(v => <VideoCard key={v.id} video={v} onVideoSelect={onVideoSelect} />)}
                    </Stack>
                </Box>
            </Stack>
        </Box>
      );

      // --- 4. THE MAIN APP COMPONENT ---
      
      const App = () => {
        // Use state to manage which "page" is visible
        const [selectedVideo, setSelectedVideo] = React.useState(null);
        
        const handleVideoSelect = (video) => {
            setSelectedVideo(video);
            window.scrollTo(0, 0); // Scroll to top on page change
        };
        
        const handleHomeClick = () => {
            setSelectedVideo(null); // Go back to the feed
        };

        const theme = createTheme({ palette: { mode: 'dark' } });

        return (
          <ThemeProvider theme={theme}>
            <Box sx={{ backgroundColor: '#0F0F0F' }}>
              
              <AppBar position="sticky" sx={{ background: '#0F0F0F', borderBottom: '1px solid #303030', height: '64px' }}>
                <Stack direction="row" alignItems="center" justifyContent="space-between" sx={{ height: '100%', px: 2 }}>
                    <Typography onClick={handleHomeClick} variant="h6" sx={{ color: 'white', cursor: 'pointer', fontWeight: 'bold' }}>
                        MyTube
                    </Typography>
                    <Box component="input" placeholder="Search" sx={{ width: '40%', p: '8px 16px', borderRadius: '20px', border: '1px solid #303030', background: '#121212', color: 'white' }} />
                    <Box></Box> {/* Placeholder for right-side icons */}
                </Stack>
              </AppBar>
              
              <Stack direction="row">
                <Sidebar onHomeClick={handleHomeClick} />
                
                {/* Conditional Rendering determines which "page" is shown */}
                {selectedVideo ? (
                  <VideoDetail 
                    video={selectedVideo} 
                    suggestedVideos={allVideos.filter(v => v.id !== selectedVideo.id)}
                    onVideoSelect={handleVideoSelect} 
                  />
                ) : (
                  <Feed videos={allVideos} onVideoSelect={handleVideoSelect} />
                )}
              </Stack>

            </Box>
          </ThemeProvider>
        );
      };

      // --- 5. RENDER THE APP TO THE DOM ---
      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);

    </script>
</body>
</html>
